(this["webpackJsonponline-tutors"]=this["webpackJsonponline-tutors"]||[]).push([[25],{545:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(15),c=a(14),o=a(0),l=a.n(o),i=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"vx-checkbox-con ".concat(this.props.className?this.props.className:""," vx-checkbox-").concat(this.props.color)},l.a.createElement("input",{type:"checkbox",defaultChecked:this.props.defaultChecked,checked:this.props.checked,value:this.props.value,disabled:this.props.disabled,onClick:this.props.onClick?this.props.onClick:null,onChange:this.props.onChange?this.props.onChange:null}),l.a.createElement("span",{className:"vx-checkbox vx-checkbox-".concat(this.props.size?this.props.size:"md")},l.a.createElement("span",{className:"vx-checkbox--check"},this.props.icon)),l.a.createElement("span",null,this.props.label))}}]),a}(l.a.Component);t.a=i},546:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(15),c=a(14),o=a(0),l=a.n(o),i=a(658),p=a(659),u=a(200),d=a(38),m=a(20),h=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"content-header row"},l.a.createElement("div",{className:"content-header-left col-md-9 col-12 mb-2"},l.a.createElement("div",{className:"row breadcrumbs-top"},l.a.createElement("div",{className:"col-12"},this.props.breadCrumbTitle?l.a.createElement("h2",{className:"content-header-title float-left mb-0"},this.props.breadCrumbTitle):"",l.a.createElement("div",{className:"breadcrumb-wrapper vx-breadcrumbs d-sm-block d-none col-12"},l.a.createElement(i.a,{tag:"ol"},l.a.createElement(p.a,{tag:"li"},l.a.createElement(d.b,{to:m.subRooter},l.a.createElement(u.a,{className:"align-top",size:15}))),l.a.createElement(p.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent),this.props.breadCrumbParent2?l.a.createElement(p.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent2):"",this.props.breadCrumbParent3?l.a.createElement(p.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent3):"",l.a.createElement(p.a,{tag:"li",active:!0},this.props.breadCrumbActive)))))))}}]),a}(l.a.Component);t.a=h},548:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){var t=e.substr(e.indexOf("."),e.length);return(e=e.split(t).join(" ")).replace(/t/gi," ")},r=function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},567:function(e,t,a){},568:function(e,t,a){},656:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(15),c=a(14),o=a(0),l=a.n(o),i=a(579),p=a(577),u=a(605),d=a.n(u),m=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(i.a,null,l.a.createElement(p.a,{className:"".concat(this.props.className?this.props.className:"stats-card-body"," d-flex ").concat(this.props.iconRight||this.props.hideChart?this.props.iconRight?"justify-content-between flex-row-reverse align-items-center":this.props.hideChart&&!this.props.iconRight?"justify-content-center flex-column text-center":null:"flex-column align-items-start"," ").concat(this.props.hideChart?"pb-2":"pb-0"," pt-2")},l.a.createElement("div",{className:"icon-section"},l.a.createElement("div",{className:"avatar avatar-stats p-50 m-0 ".concat(this.props.iconBg?"bg-rgba-".concat(this.props.iconBg):"bg-rgba-primary")},l.a.createElement("div",{className:"avatar-content"},this.props.icon))),l.a.createElement("div",{className:"title-section"},l.a.createElement("h2",{className:"text-bold-600 mt-1 mb-25"},this.props.stat),l.a.createElement("p",{className:"mb-0"},this.props.statTitle))),!this.props.hideChart&&l.a.createElement(d.a,{options:this.props.options,series:this.props.series,type:this.props.type,height:this.props.height?this.props.height:100}))}}]),a}(l.a.Component);t.a=m},688:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return b}));var n=a(541),r=a.n(n),s=a(542),c=a(6),o=a(107),l=a(108),i=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/lessons/management?page=".concat(e.page,"&perPage=").concat(e.perPage)).then((function(t){a({type:c.D,data:t.data.lessons,totalPages:t.data.totalPages,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/lesson/".concat(e)).then((function(e){a({type:c.E,data:e.data.lesson})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/lessons/management").then((function(e){t({type:c.v,data:e.data.lessons})}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},d=function(e){return function(t,a){var n=a().lesson.params,r=e.videos,s=new FormData;s.append("name",e.name),s.append("level",e.levelId),s.append("youtubeUrl",e.youtubeUrl),s.append("videos",r[0]),s.append("learnkeys",JSON.stringify(e.learnkeys)),s.append("description",e.description),s.append("image",e.image[0]),s.append("topic",e.topic),o.a.post("/lesson/create",s,{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){t({type:c.d,obj:e.data.doc}),t(i(n)),Object(l.d)("Successfully uploaded new lesson!")})).catch(l.c)}},m=function(e){return function(t){return t({type:c.O,value:e})}},h=function(e){return function(t,a){var n=a().lesson.params,r=new FormData;r.append("name",e.name),r.append("youtubeUrl",e.youtubeUrl),r.append("videos",e.videos[0]),r.append("learnkeys",JSON.stringify(e.learnkeys)),r.append("description",e.description),r.append("level",e.levelId),r.append("image",e.image[0]),r.append("topic",e.topic),o.a.put("/lesson/"+e._id,r).then((function(a){t({type:c.Y,obj:e}),t(i(n)),Object(l.d)("Successfully updated!")})).catch(l.c)}},g=function(e,t){return function(a,n){o.a.put("/lesson/management/status/"+e._id,{status:t}).then((function(t){a({type:c.Z,obj:e,status:t.data.status}),Object(l.d)("Successfully updated!")})).catch(l.c)}},f=function(e){return function(t){o.a.delete("/lesson/"+e._id).then((function(a){t({type:c.k,obj:e})})).catch(l.c)}},b=function(e){return function(t){o.a.put("/lesson-delete",{ids:e}).then((function(a){t({type:c.l,ids:e}),Object(l.d)("Successfully deleted!")})).catch(l.c)}}},847:function(e,t,a){},882:function(e,t,a){"use strict";a.r(t),a.d(t,"Index",(function(){return ee}));var n=a(12),r=a(13),s=a(15),c=a(14),o=a(0),l=a.n(o),i=a(632),p=a(633),u=a(562),d=a.n(u),m=a(656),h=a(301),g=a(534),f=a(540),b=a(535),v=a(533),E=a(631),y=a(654),C=a(606),w=a.n(C),P=a(607),x=a.n(P),N=a(194),D=a(202),k=a(219),j=a(155),O=a(50),L=a(159),S=a(216),R=a(210),F=a(189),I=a(190),A=a(163),z=a(188),B=a(27),T=a(38),U=a(844),H=a.n(U),V=a(688),_=a(545),J=a(20),W=a(548),$=(a(567),a(568),a(847),"PENDING"),Y="ACCEPTED",G="DENIED",M={rows:{selectedHighlighStyle:{backgroundColor:"rgba(115,103,240,.05)",color:"#7367F0 !important",boxShadow:"0 0 1px 0 #7367F0 !important","&:hover":{transform:"translateY(0px) !important"}}}},Z=function(e){return l.a.createElement("div",{className:"data-list-action"},l.a.createElement(L.a,{className:"cursor-pointer mr-1",size:20,onClick:function(){return e.currentData(e.row)}}),l.a.createElement(S.a,{className:"cursor-pointer",size:20,onClick:function(){e.deleteRow(e.row)}}))},q=function(e){return l.a.createElement("div",{className:"data-list-header d-flex justify-content-between flex-wrap",style:{paddingTop:5}},l.a.createElement("div",{className:"actions-left d-flex flex-wrap"},l.a.createElement(T.a,{to:"".concat(J.subRooter,"/lesson/lesson-form")},l.a.createElement(h.a,{className:"add-new-btn mr-1",color:"primary",outline:!0},l.a.createElement(R.a,{size:15}),l.a.createElement("span",{className:"align-middle"},"Add New"))),l.a.createElement(h.a,{className:"",color:"danger",onClick:function(){return e.handleActions("delete")},style:{marginBottom:3}},l.a.createElement(S.a,{size:15}),l.a.createElement("span",{className:"align-middle"},"Delete"))),l.a.createElement("div",{className:"actions-right d-flex flex-wrap mt-sm-0 mt-2"},l.a.createElement(g.a,{className:"data-list-rows-dropdown mr-1 d-md-block d-none"},l.a.createElement(f.a,{color:"",className:"sort-dropdown"},l.a.createElement("span",{className:"align-middle mx-50"},"".concat(e.index[0]," - ").concat(e.index[1]," of ").concat(e.total)),l.a.createElement(F.a,{size:15})),l.a.createElement(b.a,{tag:"div",right:!0},l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(4)}},"4"),l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(10)}},"10"),l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(15)}},"15"),l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(20)}},"20"))),l.a.createElement("div",{className:"filter-section"},l.a.createElement(E.a,{type:"text",onChange:function(t){return e.handleFilter(t)}}))))},K=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:[],totalPages:0,currentPage:0,columns:[],allData:[],value:"",rowsPerPage:4,sidebar:!1,currentData:null,selected:[],totalRecords:0,sortIndex:[],addNew:""},e.thumbView=e.props.thumbView,e.changeColumn=function(){e.setState({columns:[{name:"Image",selector:"img",minWidth:"220px",cell:function(e){return l.a.createElement("img",{src:e.imgUrl,height:"100",alt:e.name})}},{name:"Lesson",selector:"name",sortable:!0,minWidth:"250px",cell:function(e){return l.a.createElement("p",{title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Topic",selector:"topic.name",sortable:!0,cell:function(e){return"".concat(e.topic&&e.topic.name)}},{name:"Level",selector:"level.name",sortable:!0,cell:function(e){return"".concat(e.level&&e.level.name)}},{name:"Category",selector:"topic.categoryId.name",sortable:!0,cell:function(e){return"".concat(e.topic&&e.topic.categoryId&&e.topic.categoryId.name)}},{name:"Stars",center:!0,minWidth:"200px",sortable:!0,cell:function(e){return l.a.createElement("div",{className:"d-flex p-relative"},l.a.createElement(H.a,{rating:3,starRatedColor:"yellow",starHoverColor:"yellow",starDimension:"20px",name:"rating",isSelectable:!1,starSpacing:"1px"}),l.a.createElement("span",{className:"d-block",style:{paddingTop:2}},"2.4/255"))}},{name:"Lesson Status",selector:"status",center:!0,sortable:!0,cell:function(t){return l.a.createElement("div",{className:"dropdown d-inline-block"},l.a.createElement(y.a,null,l.a.createElement(f.a,{color:"".concat(1===t.status?"success":0===t.status?"warning":"danger"),style:{zIndex:10},caret:!0,disabled:"admin"!==e.props.userRole},1===t.status?"accepted":0===t.status?"Pending":"Deny",l.a.createElement(F.a,{size:15})),l.a.createElement(b.a,null,l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleChangeLessonStatus(t,$)}},"Pending"),l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleChangeLessonStatus(t,Y)}},"Accept"),l.a.createElement(v.a,{tag:"a",onClick:function(){return e.handleChangeLessonStatus(t,G)}},"Deny"))))}},{name:"Created By",selector:"createdBy.name",sortable:!0,cell:function(e){return e.createdBy?e.createdBy.firstname+" "+e.createdBy.lastname:""}},{name:"Created At",sortable:!0,cell:function(e){return Object(W.b)(e.createdAt)}},{name:"Updated At",sortable:!0,cell:function(e){return Object(W.b)(e.updatedAt)}},{name:"Actions",sortable:!0,cell:function(t){return l.a.createElement(Z,{row:t,getData:e.props.getData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData,deleteRow:e.handleDelete})}}]})},e.handleFilter=function(t){e.setState({value:t.target.value}),e.props.filterData(t.target.value)},e.handleRowsPerPage=function(t){var a=e.props,n=a.parsedFilter,r=a.getData,s=void 0!==n.page?n.page:1;O.a.push("/myarea/lesson?page=".concat(s,"&perPage=").concat(t)),e.setState({rowsPerPage:t}),r({page:n.page,perPage:t})},e.handleSidebar=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({sidebar:t}),!0===a&&e.setState({currentData:null,addNew:!0})},e.handleDelete=function(t){e.props.deleteData(t);var a=Object.keys(e.props.parsedFilter).length?e.props.parsedFilter:{page:1,perPage:4};if(e.props.getData(a),e.state.data.length-1===0){O.a.push("".concat("/myarea/lesson","?page=").concat(parseInt(e.props.parsedFilter.page-1),"&perPage=").concat(e.props.parsedFilter.perPage)),e.props.getData({page:e.props.parsedFilter.page-1,perPage:e.props.parsedFilter.perPage})}},e.handleCurrentData=function(t){e.setState({currentData:t}),O.a.push("".concat(J.subRooter,"/lesson/lesson-form?type=edit&id=").concat(t._id))},e.handlePagination=function(t){var a=e.props,n=a.parsedFilter,r=a.getData,s=void 0!==n.perPage?n.perPage:4;O.a.push("".concat("/myarea/lesson","?page=").concat(t.selected+1,"&perPage=").concat(s)),r({page:t.selected+1,perPage:s}),e.setState({currentPage:t.selected})},e.handleActions=function(t){if("delete"===t){var a=e.state.selected.map((function(e){return e._id}));a.length>0&&e.props.deleteDataByIds(a)}},e.getActivedLessonCount=function(){return e.props.dataList.allData.filter((function(e){return 1===e.status})).length},e.getPendingLessonCount=function(){return e.props.dataList.allData.filter((function(e){return 0===e.status})).length},e.getDeniedLessonCount=function(){return e.props.dataList.allData.filter((function(e){return 2===e.status})).length},e.getAllLessonCount=function(){return e.props.dataList.allData.length},e.handleChangeLessonStatus=function(t,a){t.status!==a&&e.props.updateStatus(t,a)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object.keys(this.props.parsedFilter).length?this.props.parsedFilter:{page:1,perPage:4};this.props.getData(e),this.props.getInitialData(),this.changeColumn()}},{key:"componentDidUpdate",value:function(e,t){this.thumbView&&(this.thumbView=!1),Object.is(this.state.data,t.data)||this.changeColumn()}},{key:"render",value:function(){var e=this,t=this.state,a=t.columns,n=t.data,r=t.allData,s=t.totalPages,c=t.value,o=t.rowsPerPage,u=t.totalRecords,d=t.sortIndex,h=this.getActivedLessonCount(),g=this.getPendingLessonCount(),f=this.getAllLessonCount(),b=this.getDeniedLessonCount();return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,null,l.a.createElement(p.a,{xl:"3",lg:"3",sm:"6"},l.a.createElement(m.a,{hideChart:!0,iconBg:"success",icon:l.a.createElement(N.a,{className:"warning",size:22}),stat:f,statTitle:"All Lessons"})),l.a.createElement(p.a,{xl:"3",lg:"3",sm:"6"},l.a.createElement(m.a,{hideChart:!0,iconBg:"primary",icon:l.a.createElement(D.a,{className:"primary",size:22}),stat:h,statTitle:"Active Lessons"})),l.a.createElement(p.a,{xl:"3",lg:"3",sm:"6"},l.a.createElement(m.a,{hideChart:!0,iconBg:"success",icon:l.a.createElement(k.a,{className:"success",size:22}),stat:g,statTitle:"Pending Lessons"})),l.a.createElement(p.a,{xl:"3",lg:"3",sm:"6"},l.a.createElement(m.a,{hideChart:!0,iconBg:"success",icon:l.a.createElement(j.a,{className:"success",size:22}),stat:b,statTitle:"Denied Lessons"}))),l.a.createElement("div",{className:"data-list thumb-view"},l.a.createElement(w.a,{columns:a,data:c.length?r:n,pagination:!0,paginationServer:!0,paginationComponent:function(){return l.a.createElement(x.a,{previousLabel:l.a.createElement(I.a,{size:15}),nextLabel:l.a.createElement(A.a,{size:15}),breakLabel:"...",breakClassName:"break-me",pageCount:s,containerClassName:"vx-pagination separated-pagination pagination-end pagination-sm mb-0 mt-2",activeClassName:"active",forcePage:e.props.parsedFilter.page?parseInt(e.props.parsedFilter.page-1):0,onPageChange:function(t){return e.handlePagination(t)}})},noHeader:!0,subHeader:!0,selectableRows:!0,responsive:!0,pointerOnHover:!0,selectableRowsHighlight:!0,onSelectedRowsChange:function(t){return e.setState({selected:t.selectedRows})},customStyles:M,subHeaderComponent:l.a.createElement(q,{handleSidebar:this.handleSidebar,handleFilter:this.handleFilter,handleRowsPerPage:this.handleRowsPerPage,rowsPerPage:o,total:u,index:d,handleActions:this.handleActions}),sortIcon:l.a.createElement(F.a,null),selectableRowsComponent:_.a,selectableRowsComponentProps:{color:"primary",icon:l.a.createElement(z.a,{className:"vx-icon",size:12}),label:"",size:"sm"}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataList.data.length!==t.data.length||t.currentPage!==e.parsedFilter.page?{data:e.dataList.data,allData:e.dataList.filteredData,totalPages:e.dataList.totalPages,currentPage:parseInt(e.parsedFilter.page)-1,rowsPerPage:parseInt(e.parsedFilter.perPage),totalRecords:e.dataList.totalRecords,sortIndex:e.dataList.sortIndex}:null}}]),a}(o.Component),Q=Object(B.b)((function(e){return{userRole:e.auth.userRole,dataList:e.lesson}}),{getData:V.e,deleteData:V.b,updateData:V.h,addData:V.a,getInitialData:V.g,filterData:V.d,deleteDataByIds:V.c,updateStatus:V.i})(K),X=a(546),ee=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a,{breadCrumbTitle:"Lesson management",breadCrumbParent:"Area",breadCrumbActive:"Data List"}),l.a.createElement(i.a,null,l.a.createElement(p.a,{sm:"12"},l.a.createElement(Q,{thumbView:!0,parsedFilter:d.a.parse(this.props.location.search)}))))}}]),a}(o.Component);t.default=ee}}]);
//# sourceMappingURL=25.4aecd11c.chunk.js.map