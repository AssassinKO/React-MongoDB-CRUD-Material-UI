(this["webpackJsonponline-tutors"]=this["webpackJsonponline-tutors"]||[]).push([[21],{545:function(e,t,a){"use strict";var n=a(12),r=a(13),c=a(15),o=a(14),s=a(0),l=a.n(s),i=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"vx-checkbox-con ".concat(this.props.className?this.props.className:""," vx-checkbox-").concat(this.props.color)},l.a.createElement("input",{type:"checkbox",defaultChecked:this.props.defaultChecked,checked:this.props.checked,value:this.props.value,disabled:this.props.disabled,onClick:this.props.onClick?this.props.onClick:null,onChange:this.props.onChange?this.props.onChange:null}),l.a.createElement("span",{className:"vx-checkbox vx-checkbox-".concat(this.props.size?this.props.size:"md")},l.a.createElement("span",{className:"vx-checkbox--check"},this.props.icon)),l.a.createElement("span",null,this.props.label))}}]),a}(l.a.Component);t.a=i},546:function(e,t,a){"use strict";var n=a(12),r=a(13),c=a(15),o=a(14),s=a(0),l=a.n(s),i=a(658),d=a(659),u=a(200),p=a(38),m=a(20),h=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"content-header row"},l.a.createElement("div",{className:"content-header-left col-md-9 col-12 mb-2"},l.a.createElement("div",{className:"row breadcrumbs-top"},l.a.createElement("div",{className:"col-12"},this.props.breadCrumbTitle?l.a.createElement("h2",{className:"content-header-title float-left mb-0"},this.props.breadCrumbTitle):"",l.a.createElement("div",{className:"breadcrumb-wrapper vx-breadcrumbs d-sm-block d-none col-12"},l.a.createElement(i.a,{tag:"ol"},l.a.createElement(d.a,{tag:"li"},l.a.createElement(p.b,{to:m.subRooter},l.a.createElement(u.a,{className:"align-top",size:15}))),l.a.createElement(d.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent),this.props.breadCrumbParent2?l.a.createElement(d.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent2):"",this.props.breadCrumbParent3?l.a.createElement(d.a,{tag:"li",className:"text-primary"},this.props.breadCrumbParent3):"",l.a.createElement(d.a,{tag:"li",active:!0},this.props.breadCrumbActive)))))))}}]),a}(l.a.Component);t.a=h},548:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){var t=e.substr(e.indexOf("."),e.length);return(e=e.split(t).join(" ")).replace(/t/gi," ")},r=function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},549:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return p}));var n=a(50),r=a(20),c=a(6),o=a(107),s=a(108),l=function(){return function(e,t){return e()}},i=function(){return function(e){o.a.get("/category/parents").then((function(t){e({type:c.u,data:t.data.parents})}))}},d=function(e){return function(t,a){var l=new FormData;l.append("image",e.file),l.append("name",e.name),l.append("parentId",e.parentId),o.a.post("/category/create",l).then((function(e){Object(s.d)("Successfully Created"),t({type:c.c,data:e.data.doc}),n.a.push("".concat(r.subRooter,"/categories")),t(i())})).catch((function(e){Object(s.c)(e)}))}},u=function(e){return function(t,a){var n=new FormData;n.append("image",e.file),n.append("name",e.name),n.append("parentId",e.parentId),o.a.put("/category/"+e._id,n).then((function(e){Object(s.d)("Successfully Updated"),t({type:c.X}),t(i())})).catch((function(e){Object(s.c)(e)}))}},p=function(e){return function(t){o.a.delete("/category/"+e._id).then((function(a){Object(s.d)("Successfully Deleted"),t({type:c.j,data:e}),t(i())})).catch((function(e){Object(s.c)(e)}))}}},550:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"g",(function(){return f}));var n=a(541),r=a.n(n),c=a(542),o=a(6),s=a(107),l=a(108),i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",e&&e.page?(isNaN(e.page)&&(e.page=1),isNaN(e.perPage)&&(e.perPage=4),n="/levels?page=".concat(e.page,"&perPage=").concat(e.perPage)):n="/levels?page=1&perPage=4",t.next=4,s.a.get(n).then((function(t){a({type:o.F,data:t.data.levels,totalPages:t.data.totalPages,params:e})})).catch(l.c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(t,a){var n=a().level.params,r=new FormData;r.append("image",e.file),r.append("name",e.name),r.append("description",e.description),s.a.post("/level/create",r).then((function(e){t({type:o.e,obj:e.data.doc}),t(i(n)),Object(l.d)("Successfully Submitted")})).catch(l.c)}},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/levels").then((function(e){t({type:o.w,data:e.data.levels})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(t){return t({type:o.P,value:e})}},m=function(e){return function(t){s.a.delete("/level/"+e._id).then((function(a){t({type:o.m,obj:e}),Object(l.d)("Successfully  deleted!")})).catch(l.c)}},h=function(e){return function(t){s.a.put("/levels-delete",{ids:e}).then((function(e){e.data.relatedData&&e.data.relatedData.length>0&&Object(l.b)("".concat(e.data.relatedData.length," data has relevant data.")),e.data.deletedIds.length>0&&Object(l.d)("Successfully deleted"),t({type:o.n,ids:e.data.deletedIds})})).catch(l.c)}},f=function(e){return function(t,a){var n=new FormData;n.append("image",e.file),n.append("name",e.name),n.append("description",e.description);var r=a().level.params;s.a.put("/level/"+e._id,n).then((function(a){t({type:o.ab,obj:e}),t(i(r))})).catch(l.c)}}},552:function(e,t,a){},553:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return g}));var n=a(541),r=a.n(n),c=a(542),o=a(6),s=a(107),l=a(108),i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/management/topics?page=".concat(e.page,"&perPage=").concat(e.perPage)).then((function(t){a({type:o.I,data:t.data.topics,totalPages:t.data.totalPages,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/management/topics").then((function(e){t({type:o.y,data:e.data.topics})}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},u=function(e){return function(t,a){var n=a().topic.params;s.a.post("/topic/create",e).then((function(e){Object(l.d)("Successfully Submitted!"),t(i(n))})).catch(l.c)}},p=function(e){return function(t){return t({type:o.Q,value:e})}},m=function(e){return function(t){s.a.delete("/topic/"+e._id).then((function(a){Object(l.d)("".concat(e.name," topic have been deleted!")),t({type:o.o,obj:e})})).catch(l.c)}},h=function(e){return function(t,a){var n=a().topic.params;s.a.put("/delete-topics",{ids:e}).then((function(e){e.data.deletedIds.length>0&&Object(l.d)("".concat(e.data.deletedIds.length," topic have been deleted!")),e.data.usedIds.length>0&&Object(l.b)("".concat(e.data.usedIds.length," topics have relevant Lesson or Assessment!")),e.data.deletedIds.length>0&&(t(i(n)),t({type:o.p,ids:e.data.deletedIds}))})).catch(l.c)}},f=function(e){return function(t,a){var n=a().topic.params;console.log("obj",e),s.a.put("/topic/"+e._id,e).then((function(a){t({type:o.bb,obj:e}),t(i(n))})).catch(l.c)}},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/topics?type=".concat(e)).then((function(e){a({type:o.J,data:e.data.topics})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},567:function(e,t,a){},568:function(e,t,a){},578:function(e,t,a){"use strict";var n=a(5),r=a(7),c=a(0),o=a.n(c),s=a(1),l=a.n(s),i=a(3),d=a.n(i),u=a(4),p={children:l.a.node,row:l.a.bool,check:l.a.bool,inline:l.a.bool,disabled:l.a.bool,tag:u.l,className:l.a.string,cssModule:l.a.object},m=function(e){var t=e.className,a=e.cssModule,c=e.row,s=e.disabled,l=e.check,i=e.inline,p=e.tag,m=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),h=Object(u.i)(d()(t,!!c&&"row",l?"form-check":"form-group",!(!l||!i)&&"form-check-inline",!(!l||!s)&&"disabled"),a);return"fieldset"===p&&(m.disabled=s),o.a.createElement(p,Object(n.a)({},m,{className:h}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},603:function(e,t,a){"use strict";var n=a(5),r=a(7),c=a(0),o=a.n(c),s=a(1),l=a.n(s),i=a(3),d=a.n(i),u=a(4),p=l.a.oneOfType([l.a.number,l.a.string]),m=l.a.oneOfType([l.a.bool,l.a.string,l.a.number,l.a.shape({size:p,order:p,offset:p})]),h={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:u.l,className:l.a.string,cssModule:l.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:l.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},b=function(e){var t=e.className,a=e.cssModule,c=e.hidden,s=e.widths,l=e.tag,i=e.check,p=e.size,m=e.for,h=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];s.forEach((function(t,n){var r=e[t];if(delete h[t],r||""===r){var c,o=!n;if(Object(u.g)(r)){var s,l=o?"-":"-"+t+"-";c=g(o,t,r.size),f.push(Object(u.i)(d()(((s={})[c]=r.size||""===r.size,s["order"+l+r.order]=r.order||0===r.order,s["offset"+l+r.offset]=r.offset||0===r.offset,s))),a)}else c=g(o,t,r),f.push(c)}}));var b=Object(u.i)(d()(t,!!c&&"sr-only",!!i&&"form-check-label",!!p&&"col-form-label-"+p,f,!!f.length&&"col-form-label"),a);return o.a.createElement(l,Object(n.a)({htmlFor:m},h,{className:b}))};b.propTypes=h,b.defaultProps=f,t.a=b},877:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),c=a(15),o=a(14),s=a(0),l=a.n(s),i=a(632),d=a(633),u=a(546),p=a(301),m=a(534),h=a(540),f=a(535),g=a(533),b=a(631),v=a(606),y=a.n(v),E=a(3),w=a.n(E),N=a(607),P=a.n(N),j=a(50),x=a(159),C=a(216),S=a(210),O=a(189),k=a(190),D=a(163),I=a(188),R=a(27),F=a(553),A=a(578),L=a(603),_=a(151),T=a(42),z=a.n(T),M=a(550),U=a(549),V=a(559),H=[{label:"Lesson",value:"LESSON"},{label:"Assessment",value:"ASSESSMENT"}],B=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={_id:"",name:"",description:"description",levelId:"",categoryId:"",type:"LESSON"},e.addNew=!1,e.handleSubmit=function(t){null!==e.props.data?e.props.updateData(t):(e.addNew=!0,e.props.addData(t)),e.props.handleSidebar(!1,!0)},e.renderCategories=function(e){var t=[];return null!==e&&void 0!==e&&0!==e.length&&(e.map((function(e,a){return t.push({value:e._id,label:e.name}),e.children&&e.children.length>0&&e.children.map((function(e){return t.push({value:e._id,label:l.a.createElement("span",{className:"pl-1"},e.name)})})),!0})),t)},e.renderLevel=function(e){var t=[];return e.map((function(e){return t.push({label:e.name,value:e._id})})),t},e}return Object(r.a)(a,[{key:"componentWillMount",value:function(){this.props.getLevels(),this.props.getCategories()}},{key:"componentDidUpdate",value:function(e,t){null!==this.props.data&&null===e.data&&(this.props.data._id!==t._id&&this.setState({_id:this.props.data._id}),this.props.data.name!==t.name&&this.setState({name:this.props.data.name}),this.props.data.categoryId!==t.categoryId&&this.setState({categoryId:this.props.data.categoryId&&this.props.data.categoryId._id}),this.props.data.type!==t.type&&this.setState({type:this.props.data.type}),this.props.data.levelId!==t.levelId&&this.setState({levelId:this.props.data.levelId&&this.props.data.levelId._id}),this.props.data.description!==t.description&&this.setState({description:this.props.data.description})),null===this.props.data&&null!==e.data&&this.setState({_id:"",name:"",description:"description",levelId:"",categoryId:"",type:"LESSON"}),this.addNew&&this.setState({_id:"",name:"",description:"description",levelId:"",categoryId:"",type:"LESSON"}),this.addNew=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.categories.length>0&&this.setState({categoryId:e.categories[0]._id}),e.levels.length>0&&this.setState({levelId:e.levels[0]._id})}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleSidebar,r=t.data,c=this.state,o=c.name,s=c.description,i=c.levelId,d=c.type,u=c.categoryId,m=this.renderCategories(this.props.categories),h=this.renderLevel(this.props.levels),f=m.length>0&&m[0],g=H[0],v=h.length>0&&h[0];return i&&(v=h.find((function(e){return e.value===i}))),d&&(g=H.find((function(e){return e.value===d}))),u&&(f=m.find((function(e){return e.value===u}))),l.a.createElement("div",{className:w()("data-list-sidebar",{show:a})},l.a.createElement("div",{className:"data-list-sidebar-header mt-2 px-2 d-flex justify-content-between"},l.a.createElement("h4",null,null!==r?"UPDATE DATA":"ADD NEW DATA"),l.a.createElement(_.a,{size:20,onClick:function(){return n(!1,!0)}})),l.a.createElement(z.a,{className:"data-list-fields px-2 mt-3",options:{wheelPropagation:!1}},l.a.createElement(A.a,null,l.a.createElement(L.a,{for:"topic_name"},"Name"),l.a.createElement(b.a,{type:"text",value:o,invalid:""===o,placeholder:"Topic name",onChange:function(t){return e.setState({name:t.target.value})},id:"topic_name"})),l.a.createElement(A.a,null,l.a.createElement(L.a,{for:"description"},"Description"),l.a.createElement("div",{className:"form-label-group mt-2 mb-0"},l.a.createElement(b.a,{type:"textarea",name:"text",id:"description",rows:"3",value:s,placeholder:"Tell Others in more detail for this topic",onChange:function(t){return e.setState({description:t.target.value})}})),l.a.createElement("small",{className:"counter-value float-right ".concat(this.state.description.length>50?"bg-danger":"")},"".concat(this.state.description.length,"/50"))),l.a.createElement(A.a,null,l.a.createElement(L.a,{for:"data-category"},"Category"),l.a.createElement(V.a,{id:"data-category",className:"React",classNamePrefix:"select",defaultValue:f,value:f,onChange:function(t){return e.setState({categoryId:t.value})},name:"color",options:m})),l.a.createElement(A.a,null,l.a.createElement(L.a,{for:"select-type"},"Type"),l.a.createElement(V.a,{id:"select-type",className:"React",classNamePrefix:"select",name:"type",defaultValue:g,value:g,onChange:function(t){return e.setState({type:t.value})},options:H})),l.a.createElement(A.a,null,l.a.createElement(L.a,{for:"data-level"},"Level"),l.a.createElement(V.a,{id:"data-level",className:"React",classNamePrefix:"select",name:"type",defaultValue:v,value:v,onChange:function(t){return e.setState({levelId:t.value})},options:h}))),l.a.createElement("div",{className:"data-list-sidebar-footer px-2 d-flex justify-content-start align-items-center mt-1"},l.a.createElement(p.a,{color:"primary",onClick:function(){return e.handleSubmit(e.state)}},null!==r?"Update":"Submit"),l.a.createElement(p.a,{className:"ml-1",color:"danger",outline:!0,onClick:function(){return n(!1,!0)}},"Cancel")))}}]),a}(s.Component),W={getLevels:M.f,getCategories:U.d},J=Object(R.b)((function(e){return{categories:e.category.allData,levels:e.level.allData}}),W)(B),$=a(545),Q=a(20),X=a(548),Y=(a(567),a(568),{rows:{selectedHighlighStyle:{backgroundColor:"rgba(115,103,240,.05)",color:"#7367F0 !important",boxShadow:"0 0 1px 0 #7367F0 !important","&:hover":{transform:"translateY(0px) !important"}}}}),q=function(e){return l.a.createElement("div",{className:"data-list-action"},l.a.createElement(x.a,{className:"cursor-pointer mr-1",size:20,onClick:function(){return e.currentData(e.row)}}),l.a.createElement(C.a,{className:"cursor-pointer",size:20,onClick:function(){e.deleteRow(e.row)}}))},G=function(e){return l.a.createElement("div",{className:"data-list-header d-flex justify-content-between flex-wrap",style:{paddingTop:4}},l.a.createElement("div",{className:"actions-left d-flex flex-wrap"},l.a.createElement(p.a,{className:"add-new-btn mr-1",color:"primary",onClick:function(){return e.handleSidebar(!0,!0)},outline:!0},l.a.createElement(S.a,{size:15}),l.a.createElement("span",{className:"align-middle"},"Add New")),l.a.createElement(p.a,{className:"pl-2 pr-2 mr-1",color:"danger",onClick:function(){return e.handleAction("DELETE")}},l.a.createElement(C.a,{size:15}),l.a.createElement("span",{className:"align-middle"},"Delete"))),l.a.createElement("div",{className:"actions-right d-flex flex-wrap mt-sm-0 mt-2"},l.a.createElement(m.a,{className:"data-list-rows-dropdown mr-1 d-md-block d-none"},l.a.createElement(h.a,{color:"",className:"sort-dropdown"},l.a.createElement("span",{className:"align-middle mx-50"},"".concat(e.index[0]," - ").concat(e.index[1]," of ").concat(e.total)),l.a.createElement(O.a,{size:15})),l.a.createElement(f.a,{tag:"div",right:!0},l.a.createElement(g.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(4)}},"4"),l.a.createElement(g.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(10)}},"10"),l.a.createElement(g.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(15)}},"15"),l.a.createElement(g.a,{tag:"a",onClick:function(){return e.handleRowsPerPage(20)}},"20"))),l.a.createElement("div",{className:"filter-section"},l.a.createElement(b.a,{type:"text",onChange:function(t){return e.handleFilter(t)}}))))},K=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={data:[],totalPages:0,currentPage:0,columns:[{name:"Topic",selector:"name",sortable:!0,minWidth:"300px",cell:function(e){return l.a.createElement("p",{title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Level",sortable:!0,cell:function(e){return e.levelId&&e.levelId.name?e.levelId.name:""}},{name:"Subject",sortable:!0,cell:function(e){return e.categoryId&&e.categoryId.name?e.categoryId.name:""}},{name:"Subject By",selector:"createdBy.name",sortable:!0,cell:function(e){return e.createdBy?e.createdBy.firstname+" "+e.createdBy.lastname:""}},{name:"Created At",sortable:!0,cell:function(e){return Object(X.b)(e.createdAt)}},{name:"Updated At",sortable:!0,cell:function(e){return Object(X.b)(e.updatedAt)}},{name:"Actions",sortable:!0,cell:function(t){return l.a.createElement(q,{row:t,getData:e.props.getData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData,deleteRow:e.handleDelete})}}],allData:[],value:"",rowsPerPage:4,sidebar:!1,currentData:null,selected:[],totalRecords:0,sortIndex:[],addNew:""},e.thumbView=e.props.thumbView,e.handleFilter=function(t){e.setState({value:t.target.value}),e.props.filterData(t.target.value)},e.handleRowsPerPage=function(t){var a=e.props,n=a.parsedFilter,r=a.getData;isNaN(t)&&(t=4);var c=Object.keys(n).length?n:{page:1,perPage:4};j.a.push("".concat(Q.subRooter,"/topics?page=").concat(c.page,"&perPage=").concat(t)),e.setState({rowsPerPage:t}),r({page:c.page,perPage:t})},e.handleSidebar=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({sidebar:t}),!0===a&&e.setState({currentData:null,addNew:!0})},e.handleDelete=function(t){e.props.deleteData(t);var a=Object.keys(e.props.parsedFilter).length?e.props.parsedFilter:{page:1,perPage:4};if(e.props.getData(a),e.state.data.length-1===0){var n="".concat(Q.subRooter,"/topics");j.a.push("".concat(n,"?page=").concat(parseInt(a.page-1),"&perPage=").concat(a.perPage)),e.props.getData({page:a.page-1,perPage:a.perPage})}},e.handleCurrentData=function(t){e.setState({currentData:t}),e.handleSidebar(!0)},e.handleAction=function(t){if("DELETE"===t&&e.state.selected.length>0){var a=e.state.selected.map((function(e){return e._id}));e.props.deleteTopics(a)}},e.handlePagination=function(t){var a=e.props,n=a.parsedFilter,r=a.getData,c=void 0!==n.perPage?n.perPage:4,o="".concat(Q.subRooter,"/topics");j.a.push("".concat(o,"?page=").concat(t.selected+1,"&perPage=").concat(c)),r({page:t.selected+1,perPage:c}),e.setState({currentPage:t.selected})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object.keys(this.props.parsedFilter).length?this.props.parsedFilter:{page:1,perPage:4};this.props.getData(e),this.props.getInitialData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.columns,n=t.data,r=t.allData,c=t.totalPages,o=t.value,s=t.rowsPerPage,i=t.currentData,d=t.sidebar,u=t.totalRecords,p=t.sortIndex;return l.a.createElement("div",{className:"data-list ".concat(this.props.thumbView?"thumb-view":"list-view")},l.a.createElement(y.a,{columns:a,data:o.length?r:n,pagination:!0,paginationServer:!0,paginationComponent:function(){return l.a.createElement(P.a,{previousLabel:l.a.createElement(k.a,{size:15}),nextLabel:l.a.createElement(D.a,{size:15}),breakLabel:"...",breakClassName:"break-me",pageCount:c,containerClassName:"vx-pagination separated-pagination pagination-end pagination-sm mb-0 mt-2",activeClassName:"active",forcePage:e.props.parsedFilter.page?parseInt(e.props.parsedFilter.page-1):0,onPageChange:function(t){return e.handlePagination(t)}})},noHeader:!0,subHeader:!0,selectableRows:!0,responsive:!0,pointerOnHover:!0,selectableRowsHighlight:!0,onSelectedRowsChange:function(t){return e.setState({selected:t.selectedRows})},customStyles:Y,subHeaderComponent:l.a.createElement(G,{handleSidebar:this.handleSidebar,handleFilter:this.handleFilter,handleRowsPerPage:this.handleRowsPerPage,rowsPerPage:s,total:u,index:p,handleAction:this.handleAction}),sortIcon:l.a.createElement(O.a,null),selectableRowsComponent:$.a,selectableRowsComponentProps:{color:"primary",icon:l.a.createElement(I.a,{className:"vx-icon",size:12}),label:"",size:"sm"}}),l.a.createElement(J,{show:d,data:i,updateData:this.props.updateData,addData:this.props.addData,handleSidebar:this.handleSidebar,thumbView:this.props.thumbView,getData:this.props.getData,dataParams:this.props.parsedFilter,addNew:this.state.addNew}),l.a.createElement("div",{className:w()("data-list-overlay",{show:d}),onClick:function(){return e.handleSidebar(!1,!0)}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataList.data.length!==t.data.length||t.currentPage!==e.parsedFilter.page?{data:e.dataList.data,allData:e.dataList.filteredData,totalPages:e.dataList.totalPages,currentPage:parseInt(e.parsedFilter.page)-1,rowsPerPage:parseInt(e.parsedFilter.perPage),totalRecords:e.dataList.totalRecords,sortIndex:e.dataList.sortIndex}:null}}]),a}(s.Component),Z=Object(R.b)((function(e){return{dataList:e.topic}}),{getData:F.e,deleteData:F.b,deleteTopics:F.c,updateData:F.h,addData:F.a,getInitialData:F.g,filterData:F.d})(K),ee=a(562),te=a.n(ee),ae=(a(552),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{breadCrumbTitle:"Topic & Assessment",breadCrumbParent:"Data list",breadCrumbActive:"Topic & Assessment"}),l.a.createElement(i.a,null,l.a.createElement(d.a,{sm:"12"},l.a.createElement(Z,{parsedFilter:te.a.parse(this.props.location.search)}))))}}]),a}(l.a.Component));t.default=ae}}]);
//# sourceMappingURL=21.1be17bc1.chunk.js.map